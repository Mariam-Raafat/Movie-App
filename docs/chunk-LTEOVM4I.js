import{b as I,c as F,e as N,f as E,h as T,i as q,j as w,k as D,m as M}from"./chunk-YHULYJE4.js";import{a as k}from"./chunk-W7AA2VMU.js";import"./chunk-JANHW2XO.js";import{p as x,r as y,s as C,u as R}from"./chunk-5CXJVPRN.js";import{$a as g,Ja as f,U as l,Za as h,_a as v,ab as S,bb as c,cb as r,db as n,eb as d,ha as m,lb as _,mb as b,wa as p,ya as o,yb as a,zb as u}from"./chunk-BU46OXKY.js";var G=(t,i)=>i.id;function P(t,i){t&1&&(r(0,"div",5)(1,"div",8)(2,"span",9),a(3,"Loading..."),n()()())}function L(t,i){if(t&1&&(r(0,"div",10)(1,"div",13),d(2,"img",14),r(3,"div",15)(4,"h5",16),a(5),n(),r(6,"p",17),a(7),n()()()()),t&2){let e=i.$implicit;o(2),c("src","https://image.tmdb.org/t/p/w300"+e.poster_path,p)("alt",e.title),o(3),u(e.title),o(2),u(e.release_date)}}function O(t,i){if(t&1&&(r(0,"div",6),g(1,L,8,4,"div",10,G),r(3,"div",11)(4,"a",12),a(5," Back to Home Page "),n()()()),t&2){let e=b();o(),S(e.results())}}function V(t,i){t&1&&(r(0,"div",7),a(1," No results found. "),n())}var B=class t{tmdb=l(k);route=l(x);results=m([]);loading=m(!1);_router=l(y);_formBuilder=l(D);ngOnInit(){this.route.queryParams.subscribe(i=>{let e=i.q;e&&(this.loading.set(!0),this.tmdb.searchMovies(e,1).subscribe(s=>{this.results.set(s.results),this.loading.set(!1)}))})}searchForm=this._formBuilder.group({searchInput:["",F.required]});onSubmit(){let i=this.searchForm.get("searchInput")?.value?.trim();i&&this._router.navigate(["search-result"],{queryParams:{q:i}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-search-results"]],decls:10,vars:2,consts:[[1,"container","py-4"],[1,"d-flex","gap-3","mb-5",3,"ngSubmit","formGroup"],["type","text","formControlName","searchInput","placeholder","search and explore...",1,"form-control"],[1,"btn","btn-warning"],[1,"fw-bold","mb-4"],[1,"text-center","my-5"],[1,"row","g-4"],[1,"alert","alert-info","text-center"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"col-md-3"],[1,"text-center","mt-4"],["routerLink","/",1,"btn","btn-outline-secondary"],[1,"card","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"text-muted"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"form",1),_("ngSubmit",function(){return s.onSubmit()}),d(2,"input",2),r(3,"button",3),a(4,"Search"),n()(),r(5,"h4",4),a(6,"Search Results"),n(),h(7,P,4,0,"div",5)(8,O,6,0,"div",6)(9,V,2,0,"div",7),n()),e&2&&(o(),c("formGroup",s.searchForm),o(6),v(s.loading()?7:s.results().length>0?8:9))},dependencies:[R,C,M,T,I,N,E,q,w],encapsulation:2})};export{B as SearchResult};
