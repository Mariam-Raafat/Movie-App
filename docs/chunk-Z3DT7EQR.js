import{g as W}from"./chunk-IONHZB2F.js";import{a as U}from"./chunk-W7AA2VMU.js";import"./chunk-JANHW2XO.js";import{b as k,g as L,i as F,p as z,s as M,u as $}from"./chunk-5CXJVPRN.js";import{$a as x,Ab as v,Bb as D,Ib as y,Ja as w,Mb as I,Nb as R,U as f,Z as b,Za as s,_ as T,_a as c,ab as u,bb as p,cb as o,db as n,eb as r,ib as S,lb as E,mb as d,wa as _,ya as i,yb as l,zb as m}from"./chunk-BU46OXKY.js";var O=e=>["/tv-details",e],g=(e,a)=>a.id;function V(e,a){e&1&&(o(0,"div",0)(1,"div",2)(2,"span",3),l(3,"Loading..."),n()()())}function P(e,a){if(e&1&&(o(0,"span",16),l(1),n()),e&2){let t=a.$implicit;i(),v(" ",t.name," ")}}function j(e,a){if(e&1&&x(0,P,2,1,"span",16,g),e&2){let t=d(2);u(t.tv.genres)}}function A(e,a){if(e&1&&r(0,"img",17),e&2){let t=a.$implicit;p("src","https://image.tmdb.org/t/p/w200"+t.logo_path,_)("alt",t.name)}}function B(e,a){if(e&1&&(o(0,"div",14),x(1,A,1,2,"img",17,g),n()),e&2){let t=d(2);i(),u(t.tv.production_companies)}}function q(e,a){if(e&1&&(o(0,"a",15),l(1," Website "),n()),e&2){let t=d(2);p("href",t.tv.homepage,_)}}function G(e,a){if(e&1&&(o(0,"div",20)(1,"a",21),r(2,"img",22),n(),o(3,"div",23)(4,"h6",24),l(5),n(),o(6,"small",11),l(7),n()()()),e&2){let t=a.$implicit;i(),p("routerLink",y(5,O,t.id)),i(),p("src","https://image.tmdb.org/t/p/w200"+t.poster_path,_)("alt",t.name),i(3),m(t.name),i(2),m(t.first_air_date)}}function H(e,a){if(e&1&&(o(0,"h4",18),l(1,"Recommendations"),n(),o(2,"div",19),x(3,G,8,7,"div",20,g),n()),e&2){let t=d(2);i(3),u(t.tvRecommendations)}}function J(e,a){if(e&1&&(o(0,"div",25)(1,"h6",8),l(2),n(),o(3,"p",26),l(4),I(5,"date"),n(),o(6,"p"),l(7),n()()),e&2){let t=a.$implicit;i(2),m(t.author),i(2),v(" ",R(5,3,t.created_at,"mediumDate")," "),i(3),m(t.content)}}function K(e,a){if(e&1&&(o(0,"h4",18),l(1,"Reviews"),n(),x(2,J,8,6,"div",25,g)),e&2){let t=d(2);i(2),u(t.tvReviews)}}function Q(e,a){if(e&1){let t=S();o(0,"div",1)(1,"div",4)(2,"div",5),r(3,"img",6),n(),o(4,"div",7)(5,"h2",8),l(6),n(),o(7,"button",9),E("click",function(){b(t);let h=d();return T(h.watchListStore.toggleWatchList(h.tv))}),r(8,"i",10),n(),o(9,"p",11),l(10),n(),o(11,"div",12),r(12,"i",13),l(13),n(),o(14,"p"),l(15),n(),s(16,j,2,0),o(17,"p")(18,"strong"),l(19,"Seasons:"),n(),l(20),r(21,"br"),o(22,"strong"),l(23,"Episodes:"),n(),l(24),r(25,"br"),o(26,"strong"),l(27,"Language:"),n(),l(28),n(),s(29,B,3,0,"div",14),s(30,q,2,1,"a",15),n()(),s(31,H,5,0),s(32,K,4,0),n()}if(e&2){let t=d();i(3),p("src","https://image.tmdb.org/t/p/w500"+t.tv.poster_path,_)("alt",t.tv.name),i(3),m(t.tv.name),i(2),p("ngClass",t.watchListStore.isInWatchList(t.tv.id)()?"pi pi-heart-fill text-warning":"pi pi-heart"),i(2),m(t.tv.first_air_date),i(3),D(" ",t.tv.vote_average," (",t.tv.vote_count," votes) "),i(2),m(t.tv.overview),i(),c((t.tv.genres==null?null:t.tv.genres.length)>0?16:-1),i(4),v(" ",t.tv.number_of_seasons," "),i(4),v(" ",t.tv.number_of_episodes," "),i(4),v(" ",t.tv.original_language," "),i(),c((t.tv.production_companies==null?null:t.tv.production_companies.length)>0?29:-1),i(),c(t.tv.homepage?30:-1),i(),c(t.tvRecommendations.length>0?31:-1),i(),c(t.tvReviews.length>0?32:-1)}}var N=class e{route=f(z);tmdb=f(U);watchListStore=f(W);tv=null;tvRecommendations=[];tvReviews=[];ngOnInit(){let a=this.route.snapshot.paramMap.get("id");a&&(this.tmdb.getTvShowDetails(a).subscribe(t=>{this.tv=t}),this.tmdb.getTvShowRecommendations(a).subscribe(t=>{this.tvRecommendations=t.results}),this.tmdb.getTvShowReviews(a).subscribe(t=>{this.tvReviews=t.results}))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=w({type:e,selectors:[["app-tv-details"]],decls:2,vars:1,consts:[[1,"text-center","my-5"],[1,"container","py-4"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"row","mb-5"],[1,"col-md-4"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-md-8","position-relative"],[1,"fw-bold"],[1,"position-absolute","top-0","start-100","nav-link","me-2","watchlist",3,"click"],[3,"ngClass"],[1,"text-muted"],[1,"mb-2"],[1,"bi","bi-star-fill","text-warning"],[1,"mt-3"],["target","_blank",1,"btn","btn-outline-dark","mt-3",3,"href"],[1,"badge","rounded-pill","bg-warning","text-dark","me-2"],[1,"me-2","my-2",2,"max-height","40px",3,"src","alt"],[1,"fw-bold","mt-5","mb-3"],[1,"d-flex","overflow-auto","pb-3"],[1,"card","me-3",2,"min-width","150px"],[3,"routerLink"],[1,"card-img-top",3,"src","alt"],[1,"card-body","p-2"],[1,"card-title","mb-1"],[1,"border","rounded","p-3","mb-3"],[1,"mb-1","text-muted",2,"font-size","0.9rem"]],template:function(t,C){t&1&&s(0,V,4,0,"div",0)(1,Q,33,16,"div",1),t&2&&c(C.tv?1:0)},dependencies:[F,k,L,$,M],encapsulation:2})};export{N as TvDetails};
